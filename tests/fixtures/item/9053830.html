<html><head><meta name="referrer" content="origin"></meta><link rel="stylesheet" type="text/css" href="news.css?iR71jv9Cret6gTOnjGIS"></link><link rel="shortcut icon" href="favicon.ico"></link><script type="text/javascript">
function byId(id) {
  return document.getElementById(id);
}

function vote(node) {
  var v = node.id.split(/_/);   // {'up', '123'}
  var item = v[1];

  // hide arrows
  byId('up_'   + item).style.visibility = 'hidden';
  byId('down_' + item).style.visibility = 'hidden';

  // ping server
  var ping = new Image();
  ping.src = node.href;

  return false; // cancel browser nav
} </script><title>Life in a post-database world: Using crypto to avoid database writes | Hacker News</title></head><body><center><table id="hnmain" op="item" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef"><tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="http://www.ycombinator.com"><img src="y18.gif" width="18" height="18" style="border:1px #ffffff solid;"></img></a></td><td style="line-height:12pt; height:10px;"><span class="pagetop"><b><a href="news">Hacker News</a></b><img src="s.gif" height="1" width="10"><a href="newest">new</a> | <a href="newcomments">comments</a> | <a href="show">show</a> | <a href="ask">ask</a> | <a href="jobs">jobs</a> | <a href="submit">submit</a></span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop"><a href="login?goto=item%3Fid%3D9053830">login</a></span></td></tr></table></td></tr><tr style="height:10px"></tr><tr><td><table border="0"><tr><td><center><a id="up_9053830" href="vote?for=9053830&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9053830"></span></center></td><td class="title"><span class="deadmark"></span><a href="https://neosmart.net/blog/2015/using-hmac-signatures-to-avoid-database-writes/">Life in a post-database world: Using crypto to avoid database writes</a><span class="sitebit comhead"> (neosmart.net)</span></td></tr><tr><td colspan="1"></td><td class="subtext"><span class="score" id="score_9053830">109 points</span> by <a href="user?id=ComputerGuru">ComputerGuru</a> <a href="item?id=9053830">6 hours ago</a>  | <a href="item?id=9053830">44 comments</a></td></tr><tr style="height:10px"></tr><tr><td></td><td><form method="post" action="comment"><input type="hidden" name="parent" value="9053830"><input type="hidden" name="goto" value="item?id=9053830"><input type="hidden" name="hmac" value="d1c3e215c3a934f205af74fb83870eac145b2e23"><textarea name="text" rows="6" cols="60" style="" placeholder=""></textarea><br><br>
<input type="submit" value="add comment"></form></td></tr></table><br><br>
<table border="0"><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9055102" href="vote?for=9055102&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055102"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=hurin">hurin</a> <a href="item?id=9055102">1 minute ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000"><i>In other words: a maintenance nightmare, filled with security gotchas, difficult to scale, and hard to write.</i><p>I&#x27;m not sure I follow this. To change a password you need to write to the db anyways, it&#x27;s one extra check to set token used=1 or remove it. Why is that a huge deal?</font></span><p><font size="1"><u><a href="reply?id=9055102&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054870" href="vote?for=9054870&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054870"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=jsnell">jsnell</a> <a href="item?id=9054870">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Last time I used this approach I ended up regretting it. The problem is that the links become ugly, unwieldy for the users to handle, and occasionally cause problems that are rather hard to debug. For example the base64 encoding I was using for the authentication token included &#x27;.&#x27; as a one of the characters. Well, turns out that the linkification code in gmail will ignore a &#x27;.&#x27; at the end of the link (which is kind of sensible). So 1&#x2F;64 of my validation links ended up being invalid.<p>The supposed benefit of the scheme is that you don&#x27;t need to evolve your DB schema as you add or remove validation fields. That&#x27;s rubbish. If you&#x27;re happy with storing data with no schema in the links, you should be equally happy storing it without a schema in the DB. (For example a token field, an expiration time field, and a json blob containing the actual payload corresponding to the token).</font></span><p><font size="1"><u><a href="reply?id=9054870&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9055092" href="vote?for=9055092&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055092"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=geofft">geofft</a> <a href="item?id=9055092">6 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">It&#x27;d be nice for someone to standardize this. I <i>believe</i> that it&#x27;s safe to use a cryptographic PRF that&#x27;s too short to be a proper cryptographic hash, like the 64-bit SipHash <a href="https://131002.net/siphash/" rel="nofollow">https:&#x2F;&#x2F;131002.net&#x2F;siphash&#x2F;</a> : you&#x27;re not worried about collisions, and you (hopefully) have your own ways of shutting down 2^64 brute-force attempts already. But I haven&#x27;t thought hard so don&#x27;t quote me on that.<p>If you can get away with a 64-bit or even 128-bit hash (maybe truncated SHA256?), and you encode in some base32 scheme, then it&#x27;s 13 or 26 characters â€” at worst <a href="https://example.com/resetpw/d232rgs5690y6nphk00tdmmw60" rel="nofollow">https:&#x2F;&#x2F;example.com&#x2F;resetpw&#x2F;d232rgs5690y6nphk00tdmmw60</a> (128-bit), which isn&#x27;t so bad. base64 only gets you down to 11 &#x2F; 22 characters, so it&#x27;s not a huge win.<p>The benefit of the scheme is that this is stateless and you don&#x27;t need to access the database at all. This isn&#x27;t about schema, this is so that you don&#x27;t have to think about expiring fields from the DB at all. It&#x27;s done entirely in the web server.<p>That said, the input to the hashes should be well-structured (so you don&#x27;t generate a collision by having two API functions that can be coerced to hash the same string with different meanings). That&#x27;s a vulnerability in this writeup, and I think that would also be something a proper specification of this scheme should address.</font></span><p><font size="1"><u><a href="reply?id=9055092&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054967" href="vote?for=9054967&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054967"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=morgante">morgante</a> <a href="item?id=9054967">59 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Sorry, but I don&#x27;t really see how this introduces new problems.<p>Even if you&#x27;re using a stateful approach (ie. storing the token in the database) you still need to store and send a fairly long and convoluted URL. So in either case you&#x27;re going to have to deal with the usability problem of making sure your long URL is still easily clickable.<p>As for the link invalidation, I&#x27;m confused as to why &quot;.&quot; was included in the first place. It&#x27;s not usually included in a base 64 encoding. (Still, that&#x27;s why I use base 62 for sending URLs.)</font></span><p><font size="1"><u><a href="reply?id=9054967&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054947" href="vote?for=9054947&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054947"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sk5t">sk5t</a> <a href="item?id=9054947">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">&#x27;.&#x27; is not a standard base64 character; did you roll your own?<p>Base36 and base32 are popular where portability and paranoia of being MIME&#x2F;URL-mangled are concerns, e.g., Google Authenticator&#x27;s OATH TOTP implementation for the secret key.</font></span><p><font size="1"><u><a href="reply?id=9054947&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054962" href="vote?for=9054962&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054962"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=tinco">tinco</a> <a href="item?id=9054962">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">This is why people use base48 or base36 for binary data in URLs.<p>There is a really good reason to store these things in the database though, and that&#x27;s on-demand authorization retraction.</font></span><p><font size="1"><u><a href="reply?id=9054962&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9055027" href="vote?for=9055027&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055027"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=tracker1">tracker1</a> <a href="item?id=9055027">32 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">you can always use base64-url structure too... base64, remove trailing &quot;=&quot;&#x27;s, replace &quot;+&quot; with &quot;-&quot;, replace &quot;&#x2F;&quot; with &quot;_&quot;.  Though the &quot;_&quot; and &quot;-&quot; can still be ugly at the beginning or end.  You can also encode them %## style.</font></span><p><font size="1"><u><a href="reply?id=9055027&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054974" href="vote?for=9054974&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054974"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sly010">sly010</a> <a href="item?id=9054974">56 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#5a5a5a">Same problem here. Plus I am using sendgrid which automagically makes the link about 4 times longer using the same &quot;trick&quot; which further amplifies the problem.
In fact I decided that I should go the other direction instead. Now every outgoing email is stored in the database before sending. This makes it trivial to track every email open, every click on every link and the links look beautiful, like &quot;&#x2F;e&#x2F;&lt;random_email_id&gt;&#x2F;open&quot;. Been happy ever since.<p>Edit: This obviously doesn&#x27;t invalidate the general idea.</font></span><p><font size="1"><u><a href="reply?id=9054974&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9055022" href="vote?for=9055022&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055022"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=tracker1">tracker1</a> <a href="item?id=9055022">35 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Another benefit of generating and saving an email to the database first, is at that point putting a &quot;view this email on the web&quot; type link into the top of the email becomes trivial.  Formatting HTML emails is a significant pain, and mobile only exacerbates that...<p>The point of a transactional database is, you know... handling transactions... and in this case, resetting a password is a transaction...  Sure, you have to kill long standing transactions manually, but that&#x27;s a fair bit better than having to deal with a url that is longer than <a href="https://foo.com/account/password-reset/(uuid)" rel="nofollow">https:&#x2F;&#x2F;foo.com&#x2F;account&#x2F;password-reset&#x2F;(uuid)</a> for users that may well copy&#x2F;paste ...<p>While I do like and appreciate the idea.. it&#x27;s easy enough to scale when you are either using a replica-set for your reads, or a sharded database...</font></span><p><font size="1"><u><a href="reply?id=9055022&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="120"></td><td valign="top"><center><a id="up_9055100" href="vote?for=9055100&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055100"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=geofft">geofft</a> <a href="item?id=9055100">2 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">A UUID is 128 bits, written in hex, so it&#x27;s 36 bytes. If you use an appropriately URL-safe base64, you can encode a 216-bit value in the same number of bytes. That&#x27;s long enough to be cryptographically safe for this application.</font></span><p><font size="1"><font color="#f6f6ef">-----</font></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9055033" href="vote?for=9055033&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055033"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=thegeomaster">thegeomaster</a> <a href="item?id=9055033">31 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">It&#x27;s a nice article and generally a sound approach, but reading it has led me to think about something else: imagine an Internet where the data about each user (what would normally be entries in different tables on the servers) is stored, encrypted and authenticated, on the user&#x27;s computer, as opposed to being stored on the server. Yes, I know, this goes against the &#x27;cloud&#x27; principle we see around us and introduces a bunch of issues with syncing this data and it being available everywhere, which is the point of SaaS-like websites. But on the other hand, small websites could use this approach to drastically cut their costs and maintenance work they need to do. Also, a compromise of a server would expose the keys used for encryption, but then the attackers would need another piece of the puzzle, and that&#x27;s stored on the user&#x27;s computer.<p>Don&#x27;t get me wrong, I&#x27;m not advocating this principle or implying it is needed and doable with the current technologies (I don&#x27;t think we have a way of reliably storing such long-term data within the user&#x27;s browser), but it&#x27;s an interesting train of thought. It doesn&#x27;t obviate the need for the server to store any sensitive information, just some of it. User info, password hashes, credit card numbers, maybe even social graphs depending on the use case, could all be stored this way. There will always be websites for which this doesn&#x27;t make a lot of sense, but a lot of the other ones, mainly small players, could benefit from this.<p>It&#x27;s curious how, when you describe it like that, it sounds that your data is being held hostage by a third party. After all, the server doesn&#x27;t allow you to see what&#x27;s in the encrypted opaque blobs, it only allows a controlled set of operations to be done with this data, and the only thing they do is further mutate this opaque blob. But it is no less transparent than the current state of affairs, namely servers keeping the data for themselves.<p>I&#x27;m interested to hear HN&#x27;s opinion on this, flaws in the approach I&#x27;ve missed, etc.</font></span><p><font size="1"><u><a href="reply?id=9055033&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9055046" href="vote?for=9055046&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055046"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=theseoafs">theseoafs</a> <a href="item?id=9055046">25 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">&gt; imagine an Internet where the data about each user (what would normally be entries in different tables on the servers) is stored, encrypted and authenticated, on the user&#x27;s computer, as opposed to being stored on the server.<p>Trying to authenticate solely on the client side isn&#x27;t as fruitful as you might be imagining, since it introduces potential security isues.  Without any server-side authentication using only information (i.e. a blob) that the server has access to, it becomes very easy for clients to spoof&#x2F;pretend to be other clients.<p>Consider that if this kind of system were easy&#x2F;fruitful to implement, a lot of businesses would have done it already to avoid increased development&#x2F;server costs on their end.</font></span><p><font size="1"><u><a href="reply?id=9055046&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9055097" href="vote?for=9055097&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055097"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=thegeomaster">thegeomaster</a> <a href="item?id=9055097">4 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">If the data is encrypted and authenticated with a server-known key, you couldn&#x27;t change the data and end up with the server accepting it. How would a spoofing scenario work in this case? If you can steal another user&#x27;s blob, you can pretend to be them, but if you can steal that blob, you can also steal a cookie if the website uses cookies for authentication.<p>One issue I can think of is users spoofing older blobs (reminiscent of a replay attack). I believe this could be mitigated if the server keeps a single 256-bit hash of each user&#x27;s state (this would also make client-side HMACs redundant), or a 64-bit ever-increasing integer which is then included in the state. That&#x27;s way more tiny than any user state.</font></span><p><font size="1"><u><a href="reply?id=9055097&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9055084" href="vote?for=9055084&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055084"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=Potando"><font color="#3c963c">Potando</font></a> <a href="item?id=9055084">11 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">This is kind of what some sites use to eliminate signing up and logging in - give each user a unique URL that itself is enough to authenticate them. Not great for security, but OK for a game or something that doesn&#x27;t matter too much.</font></span><p><font size="1"><u><a href="reply?id=9055084&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054997" href="vote?for=9054997&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054997"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=oautholaf">oautholaf</a> <a href="item?id=9054997">45 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">There&#x27;s really a strong reason to do this for things like user session tokens, where using crypto and avoiding database updates could easily remove a substantial portion of your database traffic.<p>But for things that are less common, like password resets and email validation, consider the downsides:<p>a) using the database gives you a built in (depending on schema) audit log of these events, where a signed token does not
b) If the key is stolen in the scheme described, the person in possession of the key can hack into all your accounts. If you use database state, someone needs to have access to the database.
c) (also mentioned above) You will almost certainly be able to have a smaller token if it refers to database state, which has it&#x27;s own advantages: copy and paste errors, etc<p>There&#x27;s certainly advantages to crypto tokens&#x2F;cookies, and they&#x27;re the right call in some circumstances, but there&#x27;s downsides to consider as well.</font></span><p><font size="1"><u><a href="reply?id=9054997&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9055038" href="vote?for=9055038&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055038"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=randerson">randerson</a> <a href="item?id=9055038">29 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">This is all fine and well until you need to measure &quot;how many users reset their passwords&quot; or &quot;what is the bounce rate of users confirming their email addresses&quot;. This may be useful for avoiding sensitive data, but it&#x27;s not a practical substitute for writing to the database, nor is it really that much effort to create two database tables.</font></span><p><font size="1"><u><a href="reply?id=9055038&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054876" href="vote?for=9054876&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054876"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=ris">ris</a> <a href="item?id=9054876">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">This is the way I&#x27;ve always done password resets and activation emails, and it never seemed particularly non-obvious.<p>In fact I seem to remember django&#x27;s default out-of-the-box password reset mechanism does it more or less this way.</font></span><p><font size="1"><u><a href="reply?id=9054876&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054885" href="vote?for=9054885&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054885"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=plorkyeran">plorkyeran</a> <a href="item?id=9054885">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">I tend to mistrust using crypto for things that can reasonably be done without crypto. Even if the initial implementation is perfect, it&#x27;s too easy for a future maintainer to make a simple mistake that introduces major security flaws. The place to use this sort of technique is where it enables a fundamentally different architecture for your application, and not just where it&#x27;s a small performance optimization.</font></span><p><font size="1"><u><a href="reply?id=9054885&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054929" href="vote?for=9054929&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054929"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=adevine">adevine</a> <a href="item?id=9054929">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">While this is true, to my mind it&#x27;s almost &quot;6 of one&#x2F;half dozen of the other&quot;. Using the examples given, there have been many security flaws where a generated token like a password reset token (one stored in the DB) is not truly random, or not as random as the implementer envisioned.<p>Also, keeping systems secure when they need to support use cases that inherently try to subvert some measure of security (like &quot;forgot password&quot;) is difficult, and I find the difficulty is much more likely to be in the overall workflow than flaws in the &quot;generateToken&quot; and &quot;validateToken&quot; methods themselves.</font></span><p><font size="1"><u><a href="reply?id=9054929&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9055000" href="vote?for=9055000&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9055000"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=andrewchambers">andrewchambers</a> <a href="item?id=9055000">44 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Pure code with stateless systems are usually easier to test and less error prone.</font></span><p><font size="1"><u><a href="reply?id=9055000&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054799" href="vote?for=9054799&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054799"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=lumpypua">lumpypua</a> <a href="item?id=9054799">2 hours ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">An iPad app I like and wanted to build on top of uses signed requests. Except the signing occurs on the iPad and is verified by the server. Oops. I disassembled the app and took the secret key to generate my own requests.</font></span><p><font size="1"><u><a href="reply?id=9054799&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054837" href="vote?for=9054837&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054837"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=njohnson41">njohnson41</a> <a href="item?id=9054837">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Using HMAC&#x27;d tokens to authenticate requests is pretty common in the form of cookie-based session variables (at least in most non-PHP web frameworks, e.g. Flask). This is really the same technique, except for email requests, where the data is embedded in a URL instead of a cookie.<p>Not to say it&#x27;s not useful, just that it&#x27;s not really novel. You also still have to be careful of replay attacks, which the author briefly addresses.</font></span><p><font size="1"><u><a href="reply?id=9054837&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054872" href="vote?for=9054872&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054872"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=tedunangst">tedunangst</a> <a href="item?id=9054872">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">It&#x27;s both common and a common source of mistakes. Every web framework I know of that uses HMAC&#x27;d sessions has had at least one glaring vulnerability that could have been avoided by using the old school opaque token database lookup technique.</font></span><p><font size="1"><u><a href="reply?id=9054872&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054844" href="vote?for=9054844&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054844"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sytse">sytse</a> <a href="item?id=9054844">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">I loved the article and all the use cases are valid. However I don&#x27;t think the first two use cases save that much effort.<p>1. In Rails apps with the devise gem the password reset token is just a column, not a whole other table.
2. Email activation, having the additional non-activated records is not a big problem, 20% extra records in my users table is pretty acceptable.</font></span><p><font size="1"><u><a href="reply?id=9054844&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054882" href="vote?for=9054882&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054882"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=bryanlarsen">bryanlarsen</a> <a href="item?id=9054882">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">It&#x27;s not the extra database columns, it&#x27;s the removal of a state field.  The additional of a single boolean state field essentially <i>doubles</i> your API area because now you have two types of users that may try to do things, and it&#x27;s highly unlikely you have saturation testing for unverified users.</font></span><p><font size="1"><u><a href="reply?id=9054882&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9054921" href="vote?for=9054921&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054921"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sytse">sytse</a> <a href="item?id=9054921">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">That makes sense, normally Devise handles that for me <a href="https://github.com/plataformatec/devise" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;plataformatec&#x2F;devise</a></font></span><p><font size="1"><u><a href="reply?id=9054921&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054863" href="vote?for=9054863&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054863"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=bryanlarsen">bryanlarsen</a> <a href="item?id=9054863">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Since Rails 4.1, the technique described in the article is trivial to use.   Check out message_verifier.</font></span><p><font size="1"><u><a href="reply?id=9054863&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9054931" href="vote?for=9054931&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054931"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sytse">sytse</a> <a href="item?id=9054931">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">I looked it up, <a href="http://api.rubyonrails.org/classes/ActiveSupport/MessageVerifier.html" rel="nofollow">http:&#x2F;&#x2F;api.rubyonrails.org&#x2F;classes&#x2F;ActiveSupport&#x2F;MessageVeri...</a> looks cool, but didn&#x27;t find a quick way to use it with Devise.</font></span><p><font size="1"><u><a href="reply?id=9054931&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054821" href="vote?for=9054821&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054821"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=Kenji">Kenji</a> <a href="item?id=9054821">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">&gt;HMAC256(&quot;userId=johnnysmith&amp;expirationTime=1356156000&amp;oldBcryptHash=$oldBcryptHash&amp;clientIpAddress=$clientIpAddress&quot;, $mySuperSecretKey)<p>Maybe I&#x27;m wrong but he can still use this password reset if he remembered his login and logged in. ID stays, it might not be expired, BcryptHash stays, Ip stays.
That, of course, is suboptimal.</font></span><p><font size="1"><u><a href="reply?id=9054821&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054826" href="vote?for=9054826&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054826"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sk5t">sk5t</a> <a href="item?id=9054826">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">I don&#x27;t understand what problem you are describing.  A user who remembers his momentarily-forgotten password can of course change or reset it regardless.  The article quite sensibly describes using the old password hash as a nonce without pestering the database with extraneous records.</font></span><p><font size="1"><u><a href="reply?id=9054826&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9054838" href="vote?for=9054838&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054838"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=Kenji">Kenji</a> <a href="item?id=9054838">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">It would be nice to stop all reset tokens if the user has logged in after the reset tokens were made. But you&#x27;re right, it&#x27;s not really a problem unless one chooses make it one ;)</font></span><p><font size="1"><u><a href="reply?id=9054838&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="120"></td><td valign="top"><center><a id="up_9054895" href="vote?for=9054895&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054895"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sk5t">sk5t</a> <a href="item?id=9054895">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">One could overcome this by tracking the user&#x27;s last password-driven login date and rolling it into the MAC; alternately, just use a short expiration time on the reset token and don&#x27;t sweat it.</font></span><p><font size="1"><u><a href="reply?id=9054895&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="160"></td><td valign="top"><center><a id="up_9054957" href="vote?for=9054957&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054957"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=morgante">morgante</a> <a href="item?id=9054957">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">But that&#x27;s just introducing additional state (last login date), so if you&#x27;re starting to do that there&#x27;s not much point in the HMAC approach.</font></span><p><font size="1"><u><a href="reply?id=9054957&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054825" href="vote?for=9054825&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054825"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=maxerickson">maxerickson</a> <a href="item?id=9054825">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">It will be checked against the current hash. The reset creates a new hash, so the token won&#x27;t work a second time.</font></span><p><font size="1"><u><a href="reply?id=9054825&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9054875" href="vote?for=9054875&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054875"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=pests">pests</a> <a href="item?id=9054875">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Hes saying the user logs in with their normal password and takes no other action on the reset. The reset is still valid until the expiration.</font></span><p><font size="1"><u><a href="reply?id=9054875&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054848" href="vote?for=9054848&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054848"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=jakozaur">jakozaur</a> <a href="item?id=9054848">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">One of the other use case is session ids. Pretty much you can sign:<p>user id|timeout|user custom property<p>Having custom property (per user number), gives an opportunity to kill sessions. E.g. session is compromised, just increment it and regenerate session for valid user.</font></span><p><font size="1"><u><a href="reply?id=9054848&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054939" href="vote?for=9054939&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054939"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=michael_storm">michael_storm</a> <a href="item?id=9054939">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#5a5a5a"><i>In other words: a maintenance nightmare, filled with security gotchas, difficult to scale, and hard to write.</i><p>So is the alternative the author describes (except for scaling). HMACs for temporary credentials are clever and simple, if you&#x27;re already versed in crypto primitives. But to anyone else, they&#x27;re magic security sauce: &quot;But why can&#x27;t I just use MD5? Wait, no, that&#x27;s broken somehow - what about SHA? What do I include in the HMAC? Do I have to use a new key every time?&quot;<p>The solution trades implementation complexity for arcane knowledge. The author is so confident that his solution is superior because he already has that arcane knowledge.<p>That said, a well-implemented HMAC-based password reset flow is probably more bulletproof than a well-implemented DB-based flow. So if you&#x27;re implementing AWS, go for HMAC. If you&#x27;re implementing a blog, go with whatever you feel like. Just implement it well.</font></span><p><font size="1"><u><a href="reply?id=9054939&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054943" href="vote?for=9054943&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054943"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=morgante">morgante</a> <a href="item?id=9054943">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">I don&#x27;t really consider HMACs to be particularly arcane knowledge. They&#x27;re easy to generate in any language and straightforward to work with.<p>While I consider myself to be a pretty good developer, I&#x27;m definitely not well-versed in crypto and math isn&#x27;t my strongest skill. Despite that, I&#x27;ve had no problem using crypto for several of the obvious use cases (ex. password resets).</font></span><p><font size="1"><u><a href="reply?id=9054943&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054959" href="vote?for=9054959&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054959"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=sk5t">sk5t</a> <a href="item?id=9054959">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Are you arguing in favor of developer laziness?  An average programmer should be able to understand the use cases for HMAC within a couple hours or so, given nothing but the Wikipedia page and an IDE or REPL, and knowing about MACs might prevent him from cooking up all manner of broken security protocols in the future.</font></span><p><font size="1"><u><a href="reply?id=9054959&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9054994" href="vote?for=9054994&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054994"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=michael_storm">michael_storm</a> <a href="item?id=9054994">46 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Well, I&#x27;m certainly not in favor of name-calling like that. HMACs don&#x27;t provide any greater provable security guarantees than a database row in this scenario, so it comes down to implementation. HMACs are harder if you&#x27;re not familiar with them, but almost everyone is familiar with a database. On the other hand, HMACs make the security of the overall system easier to verify, assuming HMACs are used correctly - but it&#x27;s harder for newcomers to use them correctly.<p>I&#x27;m saying that in this scenario, it doesn&#x27;t make much of a difference which system is used. So the author shouldn&#x27;t be quite so forceful in telling people to use a crypto primitive outside of their comfort zone for minimal benefit. I&#x27;d rather use a system written by someone confident in their DB solution, rather than someone who learned their HMAC solution in a couple of hours on Wikipedia.</font></span><p><font size="1"><u><a href="reply?id=9054994&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="80"></td><td valign="top"><center><a id="up_9054971" href="vote?for=9054971&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054971"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=tinco">tinco</a> <a href="item?id=9054971">58 minutes ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">The risk is that a developer might not realize there is a significant difference between just encrypting something, and using a MAC.</font></span><p><font size="1"><u><a href="reply?id=9054971&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054873" href="vote?for=9054873&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054873"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=francescolaffi">francescolaffi</a> <a href="item?id=9054873">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">you should have a look at JSON Web Token <a href="http://jwt.io/" rel="nofollow">http:&#x2F;&#x2F;jwt.io&#x2F;</a></font></span><p><font size="1"><u><a href="reply?id=9054873&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="0"></td><td valign="top"><center><a id="up_9054106" href="vote?for=9054106&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054106"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=dmos62">dmos62</a> <a href="item?id=9054106">5 hours ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">Loved reading this. Most original article I&#x27;ve recently read.</font></span><p><font size="1"><u><a href="reply?id=9054106&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr><tr><td><table border="0"><tr><td><img src="s.gif" height="1" width="40"></td><td valign="top"><center><a id="up_9054827" href="vote?for=9054827&amp;dir=up&amp;goto=item%3Fid%3D9053830"><div class="votearrow" title="upvote"></div></a><span id="down_9054827"></span></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px; "><span class="comhead"><a href="user?id=danielschonfeld">danielschonfeld</a> <a href="item?id=9054827">1 hour ago</a> <span class="deadmark"></span></span></div><br>
<span class="comment"><font color="#000000">+1!<p>This was a really refreshing read on HN.  Wish there were more articles like this one utilizing crypto for modern programming applications.</font></span><p><font size="1"><u><a href="reply?id=9054827&amp;goto=item%3Fid%3D9053830">reply</a></u></font></td></tr></table></td></tr></table><br><br>
</td></tr><tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br>
<center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a> | <a href="newsfaq.html">FAQ</a> | <a href="mailto:hn@ycombinator.com">Support</a> | <a href="lists">Lists</a> | <a href="bookmarklet.html">Bookmarklet</a> | <a href="dmca.html">DMCA</a> | <a href="http://www.ycombinator.com/">Y Combinator</a> | <a href="http://www.ycombinator.com/apply/">Apply</a> | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br>
<form method="get" action="//hn.algolia.com/">Search: <input type="text" name="q" value="" size="17"></form></center></td></tr></table></center></body></html>